<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Magic Debian</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            body, h1, p, img, a {
                padding: 20px;
            }

            .expandable-text {
                display: none;
            }

            /* Estilos para botões fixos */
            .fixed-button-left {
                position: fixed;
                bottom: 20px;
                left: 20px;
                z-index: 1000; /* Garante que os botões estejam acima de outros elementos */
            }

            .fixed-button-right {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000; /* Garante que os botões estejam acima de outros elementos */
            }

            .spinner-border {
                display: none;
            }
        </style>
    </head>
    <body>
        <div class="container mt-5">
            <div>
                <!-- Título -->
                <h1 class="mb-4">Melhorando o Debian 12</h1>
            </div>

            <!-- Conteúdo -->
            <div class="row">
                <div class="col-md-6">
                    <p>
                        Vamos alterar o Firefox ESR para o <br>
                        Firefox atualizado, melhorar fontes, <br>
                        Instalar suporte a Flatpak e Flathub<br>
                        Adicionar o repositório nonfree e Contrib<br>
                        Instalar suporte a codecs Multimídia, etc.
                    </p>
                    <a href="#" onclick="toggleText()">Veja mais</a> <!-- Link para expandir o texto -->
                    <div class="expandable-text">
                        <p>
                            O que será instalado: amd64-microcode  exfat-fuse  ffmpeg  ffmpegthumbnailer  firmware-amd-graphics  firmware-linux-nonfree  font-manager  fonts-croscore  fonts-noto  fonts-noto-extra  fonts-ubuntu  gamemode  gir1.2-gtop-2.0  gnome-browser-connector  gnome-firmware  gnome-tweaks  gstreamer1.0-plugins-ugly  gstreamer1.0-vaapi  gufw  hugo  libavcodec-extra  ldap-utils  libasound2-plugins  lolcat micro  vdpauinfo python3-pip python3 gnome-boxes p7zip-rar ntp network-manager-config-connectivity-debian ttf-mscorefonts-installer.
                        </p>
                    </div>
                </div>
                <div class="col-md-6 text-center"> <!-- Alterado para text-center -->
                    <img src="{{ url_for('static', filename='install.png') }}" alt="Ícone" class="rounded img-fluid" style="max-width: 100%;">
                </div>
            </div>
        </div>
        <form id="executeForm" action="/finish">
            <div class="center-horizontal">
                <button id="executeButton" type="submit" class="btn btn-primary">
                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true" style="display: none;"></span>
                    <span id="buttonText">Executar</span>
                </button>
            </div>
        </form>
        
        

        <!-- Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

        <script>
            function toggleText() {
                var expandableText = document.querySelector('.expandable-text');
                if (expandableText.style.display === 'none') {
                    expandableText.style.display = 'block';
                } else {
                    expandableText.style.display = 'none';
                }
            }
    
            // Simule o envio do formulário com um spinner
            document.getElementById('executeForm').addEventListener('submit', function(event) {
                // Previne o envio padrão do formulário
                event.preventDefault();
    
                // Exibe o spinner e muda o texto para "Executando"
                var button = document.getElementById('executeButton');
                var spinner = button.querySelector('.spinner-border');
                var buttonText = button.querySelector('#buttonText');
                
                spinner.style.display = 'inline-block';
                buttonText.textContent = 'Executando';
    
                // Envie o formulário após um pequeno atraso para simular um processo assíncrono
                setTimeout(function() {
                    document.getElementById('executeForm').submit();
                }, 1000); // Tempo de atraso em milissegundos
            });
        </script>
    </body>
</html>
